{
  "openapi": "3.0.4",
  "info": {
    "title": "Web Thi TN API",
    "description": "API cho hệ thống thi trắc nghiệm trực tuyến",
    "contact": {
      "name": "Thien",
      "email": "npthien124@gmail.com"
    },
    "version": "v1"
  },
  "paths": {
    "/api/analytics/test/{id}": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Thống kê về đề thi: câu sai nhiều nhất, thời gian trung bình",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của đề thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/analytics/student/{id}": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Thống kê điểm trung bình theo môn cho một học sinh",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của học sinh",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/analytics/rank": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Xếp hạng học sinh theo môn học",
        "parameters": [
          {
            "name": "subjectId",
            "in": "query",
            "description": "ID môn học cần xếp hạng",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Số lượng học sinh tối đa trong bảng xếp hạng",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/analytics/chart-data": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Lấy dữ liệu cho biểu đồ điểm và thời gian thi",
        "parameters": [
          {
            "name": "subjectId",
            "in": "query",
            "description": "ID môn học (tùy chọn)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "period",
            "in": "query",
            "description": "Khoảng thời gian (week, month, year)",
            "schema": {
              "type": "string",
              "default": "month"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Auth/verify-token": {
      "get": {
        "tags": [
          "Auth"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Chapter": {
      "get": {
        "tags": [
          "Chapter"
        ],
        "summary": "Lấy danh sách chương có phân trang và lọc theo môn học",
        "parameters": [
          {
            "name": "subjectId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "includeInactive",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "searchTerm",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Chapter"
        ],
        "summary": "Tạo chương mới",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChapterDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChapterDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChapterDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Chapter/{id}": {
      "get": {
        "tags": [
          "Chapter"
        ],
        "summary": "Lấy thông tin chi tiết của một chương theo ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Chapter"
        ],
        "summary": "Cập nhật thông tin chương",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChapterDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChapterDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChapterDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Chapter"
        ],
        "summary": "Xóa chương",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/chat/message": {
      "post": {
        "tags": [
          "Chat"
        ],
        "summary": "Gửi tin nhắn trong chatbox",
        "requestBody": {
          "description": "Thông tin tin nhắn mới",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewMessageDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/NewMessageDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/NewMessageDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/conversation/{userId}": {
      "get": {
        "tags": [
          "Chat"
        ],
        "summary": "Lấy cuộc trò chuyện với một người dùng cụ thể",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "ID của người dùng cần lấy cuộc trò chuyện",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang, mặc định là 1",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Kích thước trang, mặc định là 20",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageDTO"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageDTO"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageDTO"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/unread": {
      "get": {
        "tags": [
          "Chat"
        ],
        "summary": "Lấy danh sách tin nhắn chưa đọc của người dùng hiện tại",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageDTO"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageDTO"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageDTO"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Exam": {
      "get": {
        "tags": [
          "Exam"
        ],
        "summary": "Lấy danh sách bài thi với các bộ lọc và phân trang",
        "description": "API này cho phép lấy danh sách bài thi với nhiều tùy chọn lọc khác nhau.\r\nCó thể lọc theo môn học, loại bài thi, trạng thái, từ khóa và phân trang kết quả.\r\n\r\nSample request:\r\n            \r\n    GET /api/Exam?SubjectId=1&ExamTypeId=3&Page=1&PageSize=10&ActiveOnly=true&IsOpen=true",
        "parameters": [
          {
            "name": "SubjectId",
            "in": "query",
            "description": "ID của môn học cần lọc",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "example": 1
            },
            "example": 1
          },
          {
            "name": "ExamTypeId",
            "in": "query",
            "description": "ID của loại bài thi",
            "schema": {
              "type": "integer",
              "format": "int32",
              "example": 3
            },
            "example": 3
          },
          {
            "name": "Page",
            "in": "query",
            "description": "Trang hiện tại",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "example": 1
            },
            "example": 1
          },
          {
            "name": "PageSize",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "example": 10
            },
            "example": 10
          },
          {
            "name": "ActiveOnly",
            "in": "query",
            "description": "Chỉ lấy các bài thi đang hoạt động",
            "required": true,
            "schema": {
              "type": "boolean",
              "example": true
            },
            "example": true
          },
          {
            "name": "IsOpen",
            "in": "query",
            "description": "Lọc trạng thái bài thi (null: tất cả, true: đang mở, false: đã đóng)",
            "required": true,
            "schema": {
              "type": "boolean",
              "example": true
            },
            "example": true
          },
          {
            "name": "SearchTerm",
            "in": "query",
            "description": "Từ khóa tìm kiếm (tên, mô tả)",
            "required": true,
            "schema": {
              "type": "string",
              "example": "kiểm tra"
            },
            "example": "kiểm tra"
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về danh sách bài thi"
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      },
      "post": {
        "tags": [
          "Exam"
        ],
        "summary": "Thêm bài thi mới vào hệ thống",
        "description": "API này cho phép giáo viên hoặc admin tạo một bài thi mới.\r\n\r\nSample request:\r\n            \r\n    POST /api/Exam\r\n    {\r\n        \"title\": \"Kiểm tra cuối kỳ Toán 12\",\r\n        \"description\": \"Bài kiểm tra kiến thức cuối kỳ Toán 12\",\r\n        \"subjectId\": 1,\r\n        \"examTypeId\": 2,\r\n        \"duration\": 90,\r\n        \"totalScore\": 10,\r\n        \"passScore\": 5,\r\n        \"maxAttempts\": 1,\r\n        \"startTime\": \"2025-04-20T08:00:00Z\",\r\n        \"endTime\": \"2025-04-30T23:59:59Z\",\r\n        \"isActive\": true,\r\n        \"showResult\": true,\r\n        \"showAnswers\": false,\r\n        \"shuffleQuestions\": true,\r\n        \"shuffleOptions\": true,\r\n        \"autoGradeShortAnswer\": true,\r\n        \"allowPartialGrading\": true,\r\n        \"accessCode\": \"math12final\",\r\n        \"scoringConfig\": \"{\\\"gradingMethod\\\":\\\"sum\\\",\\\"partialCreditMethod\\\":\\\"proportional\\\",\\\"penaltyForWrongAnswer\\\":0}\",\r\n        \"questions\": [\r\n            {\r\n                \"questionId\": 42,\r\n                \"order\": 1,\r\n                \"score\": 1\r\n            },\r\n            {\r\n                \"questionId\": 56,\r\n                \"order\": 2,\r\n                \"score\": 2\r\n            }\r\n        ]\r\n    }",
        "requestBody": {
          "description": "Thông tin bài thi cần tạo",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Trả về thông tin bài thi đã tạo"
          },
          "400": {
            "description": "Dữ liệu đầu vào không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy môn học hoặc loại bài thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/BySubject/{subjectId}": {
      "get": {
        "tags": [
          "Exam"
        ],
        "summary": "Lấy danh sách bài thi theo môn học",
        "description": "API này cho phép lấy danh sách bài thi thuộc một môn học cụ thể.\r\n\r\nSample request:\r\n            \r\n    GET /api/Exam/BySubject/1?Page=1&PageSize=10&ActiveOnly=true&IsOpen=true",
        "parameters": [
          {
            "name": "subjectId",
            "in": "path",
            "description": "ID của môn học",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "examTypeId",
            "in": "query",
            "description": "ID của loại bài thi (không bắt buộc)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Trang hiện tại (mặc định: 1)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số lượng mỗi trang (mặc định: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "activeOnly",
            "in": "query",
            "description": "Chỉ lấy bài thi đang hoạt động (mặc định: true)",
            "schema": {
              "type": "boolean",
              "default": true
            }
          },
          {
            "name": "isOpen",
            "in": "query",
            "description": "Lọc theo trạng thái mở/đóng (null: tất cả)",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "searchTerm",
            "in": "query",
            "description": "Từ khóa tìm kiếm",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về danh sách bài thi"
          },
          "404": {
            "description": "Không tìm thấy môn học",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/ForStudents/{subjectId}": {
      "get": {
        "tags": [
          "Exam"
        ],
        "summary": "Lấy danh sách bài thi cho học sinh",
        "description": "API này cho phép học sinh xem danh sách bài thi đang mở của một môn học.\r\nChỉ hiển thị bài thi đang hoạt động và trong thời gian mở.\r\n\r\nSample request:\r\n            \r\n    GET /api/Exam/ForStudents/1",
        "parameters": [
          {
            "name": "subjectId",
            "in": "path",
            "description": "ID của môn học",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Trang hiện tại (mặc định: 1)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số lượng mỗi trang (mặc định: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "searchTerm",
            "in": "query",
            "description": "Từ khóa tìm kiếm",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về danh sách bài thi"
          },
          "404": {
            "description": "Không tìm thấy môn học",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/{id}": {
      "get": {
        "tags": [
          "Exam"
        ],
        "summary": "Lấy thông tin chi tiết của một bài thi",
        "description": "API này cho phép lấy thông tin chi tiết của một bài thi cụ thể theo ID.\r\n\r\nSample request:\r\n            \r\n    GET /api/Exam/5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về thông tin chi tiết bài thi"
          },
          "404": {
            "description": "Không tìm thấy bài thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      },
      "put": {
        "tags": [
          "Exam"
        ],
        "summary": "Cập nhật thông tin đề thi",
        "description": "API này cho phép giáo viên hoặc admin cập nhật thông tin của một đề thi đã tồn tại.\r\n\r\nSample request:\r\n            \r\n    PUT /api/Exam/5\r\n    {\r\n        \"title\": \"Kiểm tra cuối kỳ Toán 12 (Đã cập nhật)\",\r\n        \"description\": \"Bài kiểm tra kiến thức cuối kỳ Toán 12 - Phiên bản mới\",\r\n        \"subjectId\": 1,\r\n        \"examTypeId\": 2,\r\n        \"duration\": 90,\r\n        \"totalScore\": 10,\r\n        \"passScore\": 6,\r\n        \"maxAttempts\": 2,\r\n        \"startTime\": \"2025-04-25T08:00:00Z\",\r\n        \"endTime\": \"2025-04-25T23:59:59Z\",\r\n        \"isActive\": true,\r\n        \"showResult\": true,\r\n        \"showAnswers\": false,\r\n        \"shuffleQuestions\": true,\r\n        \"shuffleOptions\": true,\r\n        \"autoGradeShortAnswer\": true,\r\n        \"allowPartialGrading\": true,\r\n        \"accessCode\": \"math12final\",\r\n        \"scoringConfig\": \"{\\\"gradingMethod\\\":\\\"sum\\\",\\\"partialCreditMethod\\\":\\\"proportional\\\",\\\"penaltyForWrongAnswer\\\":0}\",\r\n        \"questions\": [\r\n            {\r\n                \"questionId\": 42,\r\n                \"order\": 1,\r\n                \"score\": 1.5\r\n            },\r\n            {\r\n                \"questionId\": 56,\r\n                \"order\": 2,\r\n                \"score\": 2.5\r\n            }\r\n        ]\r\n    }",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của đề thi cần cập nhật",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin cập nhật đề thi",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Trả về thông tin đề thi đã cập nhật thành công"
          },
          "400": {
            "description": "Dữ liệu đầu vào không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "Không có quyền cập nhật đề thi này",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy đề thi, môn học hoặc loại đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      },
      "delete": {
        "tags": [
          "Exam"
        ],
        "summary": "Xóa một đề thi khỏi hệ thống",
        "description": "API này cho phép giáo viên hoặc admin xóa một đề thi đã tồn tại.\r\nLưu ý: Đề thi sẽ bị xóa vĩnh viễn cùng với tất cả các câu hỏi liên quan.\r\n\r\nSample request:\r\n            \r\n    DELETE /api/Exam/5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của đề thi cần xóa",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Đề thi đã được xóa thành công"
          },
          "403": {
            "description": "Không có quyền xóa đề thi này",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/WithQuestions/{id}": {
      "get": {
        "tags": [
          "Exam"
        ],
        "summary": "Lấy thông tin chi tiết của một bài thi kèm danh sách câu hỏi đầy đủ",
        "description": "API này cho phép lấy thông tin chi tiết của một bài thi cụ thể theo ID cùng với danh sách câu hỏi đầy đủ.\r\n\r\nSample request:\r\n            \r\n    GET /api/Exam/WithQuestions/5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về thông tin chi tiết bài thi và câu hỏi"
          },
          "404": {
            "description": "Không tìm thấy bài thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/{id}/WithQuestions": {
      "get": {
        "tags": [
          "Exam"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Exam/clone/{id}": {
      "post": {
        "tags": [
          "Exam"
        ],
        "summary": "Nhân bản một đề thi đã có",
        "description": "API này cho phép giáo viên hoặc admin tạo một bản sao của đề thi đã tồn tại.\r\nBản sao sẽ chứa tất cả các câu hỏi và cài đặt của đề thi gốc, nhưng với tiêu đề mới\r\nvà được đánh dấu là bản sao.\r\n\r\nSample request:\r\n\r\n    POST /api/Exam/clone/5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của đề thi cần nhân bản",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Trả về thông tin đề thi đã nhân bản"
          },
          "400": {
            "description": "Dữ liệu đầu vào không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "Không có quyền nhân bản đề thi này",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/{id}/status": {
      "patch": {
        "tags": [
          "Exam"
        ],
        "summary": "Cập nhật trạng thái đề thi (nháp hoặc công khai)",
        "description": "API này cho phép giáo viên hoặc admin cập nhật trạng thái của một đề thi đã tồn tại.\r\nTrạng thái có thể là nháp (không công khai, chỉ người tạo mới nhìn thấy) hoặc công khai (học sinh có thể làm bài).\r\n\r\nSample request:\r\n            \r\n    PATCH /api/Exam/5/status\r\n    {\r\n        \"isActive\": true\r\n    }",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của đề thi cần cập nhật trạng thái",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin trạng thái mới",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateExamStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateExamStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateExamStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Trả về thông tin đề thi đã cập nhật trạng thái thành công"
          },
          "400": {
            "description": "Dữ liệu đầu vào không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "Không có quyền cập nhật đề thi này",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/{id}/approve": {
      "post": {
        "tags": [
          "Exam"
        ],
        "summary": "Duyệt đề thi (dành cho admin hoặc giáo viên quản lý)",
        "description": "API này cho phép admin hoặc giáo viên quản lý duyệt một đề thi, \r\nxác nhận rằng đề thi đã được kiểm tra và có thể được công khai cho học sinh.\r\n\r\nSample request:\r\n            \r\n    POST /api/Exam/5/approve\r\n    {\r\n        \"approved\": true,\r\n        \"comment\": \"Đề thi phù hợp, đã kiểm tra các câu hỏi\"\r\n    }",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của đề thi cần duyệt",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin phê duyệt",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveExamDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveExamDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveExamDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Trả về thông tin đề thi đã được duyệt thành công"
          },
          "400": {
            "description": "Dữ liệu đầu vào không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "Không có quyền duyệt đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/Exam/user-progress/{userId}": {
      "get": {
        "tags": [
          "Exam"
        ],
        "summary": "Lấy thông tin tiến độ/kết quả thi của người dùng",
        "description": "API này cho phép xem trạng thái các đề thi của người dùng, \r\nbao gồm thông tin đã thi hay chưa, điểm cao nhất, và số lần đã thử.\r\n\r\nSample request:\r\n            \r\n    GET /api/Exam/user-progress/5?subjectId=1",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "ID của người dùng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "subjectId",
            "in": "query",
            "description": "ID của môn học (không bắt buộc)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về danh sách đề thi và tiến độ"
          },
          "403": {
            "description": "Không có quyền xem thông tin này",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy người dùng",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/ExamsImport/import": {
      "post": {
        "tags": [
          "ExamsImport"
        ],
        "summary": "Import đề thi từ file CSV",
        "description": "API này cho phép import đề thi từ file CSV với định dạng sau:\r\n\r\n- Dòng đầu tiên là tiêu đề cột: Title,Description,SubjectId,ExamTypeId,Duration,TotalScore,PassScore,MaxAttempts,StartTime,EndTime,...\r\n- Các dòng tiếp theo là thông tin của đề thi\r\n\r\nYêu cầu tối thiểu: Title (tiêu đề), SubjectId (ID môn học), ExamTypeId (ID loại đề thi), Duration (thời gian làm bài)\r\n\r\nĐịnh dạng thời gian: yyyy-MM-dd HH:mm:ss\r\n\r\nSample request:\r\n\r\n    POST /api/exams/import\r\n    Form-Data:\r\n        csvFile: [file CSV]\r\n        skipHeader: true",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "csvFile"
                ],
                "type": "object",
                "properties": {
                  "csvFile": {
                    "type": "string",
                    "format": "binary"
                  },
                  "skipHeader": {
                    "type": "boolean"
                  },
                  "delimiter": {
                    "type": "string"
                  }
                }
              },
              "encoding": {
                "csvFile": {
                  "style": "form"
                },
                "skipHeader": {
                  "style": "form"
                },
                "delimiter": {
                  "style": "form"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import thành công"
          },
          "400": {
            "description": "Dữ liệu không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Không có quyền truy cập",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    },
    "/api/ExamsImport/import/template": {
      "get": {
        "tags": [
          "ExamsImport"
        ],
        "summary": "Tải mẫu file CSV để import đề thi",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/students/export": {
      "post": {
        "tags": [
          "Export"
        ],
        "summary": "Xuất danh sách học sinh theo lớp",
        "requestBody": {
          "description": "Thông tin yêu cầu xuất danh sách",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportStudentsRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportStudentsRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ExportStudentsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/scores/export": {
      "post": {
        "tags": [
          "Export"
        ],
        "summary": "Xuất bảng điểm theo kỳ thi",
        "requestBody": {
          "description": "Thông tin yêu cầu xuất bảng điểm",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportScoresRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportScoresRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ExportScoresRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/{id}/feedback": {
      "post": {
        "tags": [
          "Feedback"
        ],
        "summary": "Gửi phản hồi về bài thi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Nội dung phản hồi",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFeedbackDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFeedbackDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFeedbackDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/feedback/{id}": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Lấy thông tin một phản hồi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của phản hồi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/{id}/resolve-feedback/{feedbackId}": {
      "post": {
        "tags": [
          "Feedback"
        ],
        "summary": "Xử lý phản hồi bài thi (chỉ admin)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "feedbackId",
            "in": "path",
            "description": "ID của phản hồi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin xử lý",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveFeedbackDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveFeedbackDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveFeedbackDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/{id}/feedbacks": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Lấy danh sách phản hồi của bài thi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số phản hồi mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/my-feedbacks": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Lấy danh sách phản hồi của người dùng",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số phản hồi mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/tests/all-feedbacks": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Lấy danh sách tất cả phản hồi (cho admin)",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số phản hồi mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Leaderboard/{examId}": {
      "get": {
        "tags": [
          "Leaderboard"
        ],
        "summary": "Lấy top 10 người dùng có điểm cao nhất cho một đề thi cụ thể",
        "parameters": [
          {
            "name": "examId",
            "in": "path",
            "description": "ID của đề thi cần lấy bảng xếp hạng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trả về thông tin bảng xếp hạng thành công"
          },
          "404": {
            "description": "Không tìm thấy đề thi với ID đã cho"
          },
          "401": {
            "description": "Không có quyền truy cập"
          }
        }
      }
    },
    "/api/materials/documents": {
      "get": {
        "tags": [
          "Materials"
        ],
        "summary": "Lấy danh sách tài liệu ôn tập",
        "description": "API này cho phép lấy danh sách tài liệu ôn tập (PDF, slides, etc.) theo các tiêu chí lọc.",
        "parameters": [
          {
            "name": "subjectId",
            "in": "query",
            "description": "ID của môn học (tùy chọn)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "chapterId",
            "in": "query",
            "description": "ID của chương học (tùy chọn)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "documentType",
            "in": "query",
            "description": "Loại tài liệu (PDF, Slide, etc.) (tùy chọn)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Từ khóa tìm kiếm (tùy chọn)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang, mặc định là 1",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Kích thước trang, mặc định là 10",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/materials/documents/{id}": {
      "get": {
        "tags": [
          "Materials"
        ],
        "summary": "Lấy chi tiết tài liệu theo ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của tài liệu",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/materials/documents/upload": {
      "post": {
        "tags": [
          "Materials"
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file",
                  "title"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "subjectId": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "chapterId": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "documentType": {
                    "type": "string"
                  },
                  "tags": {
                    "type": "string"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                },
                "title": {
                  "style": "form"
                },
                "description": {
                  "style": "form"
                },
                "subjectId": {
                  "style": "form"
                },
                "chapterId": {
                  "style": "form"
                },
                "documentType": {
                  "style": "form"
                },
                "tags": {
                  "style": "form"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "413": {
            "description": "Content Too Large",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/email": {
      "post": {
        "tags": [
          "Notifications"
        ],
        "summary": "Gửi thông báo qua email",
        "requestBody": {
          "description": "Thông tin thông báo email",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailNotificationDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailNotificationDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/EmailNotificationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/notifications/in-app": {
      "post": {
        "tags": [
          "Notifications"
        ],
        "summary": "Gửi thông báo trong hệ thống",
        "requestBody": {
          "description": "Thông tin thông báo",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InAppNotificationDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/InAppNotificationDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/InAppNotificationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/notifications": {
      "get": {
        "tags": [
          "Notifications"
        ],
        "summary": "Lấy thông báo của người dùng hiện tại",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số lượng mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "onlyUnread",
            "in": "query",
            "description": "Chỉ lấy thông báo chưa đọc",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/notifications/{id}/read": {
      "put": {
        "tags": [
          "Notifications"
        ],
        "summary": "Đánh dấu thông báo đã đọc",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID thông báo",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/notifications/mark-all-read": {
      "put": {
        "tags": [
          "Notifications"
        ],
        "summary": "Đánh dấu tất cả thông báo là đã đọc",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/official-exams": {
      "post": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Tạo kỳ thi chính thức mới",
        "description": "API này cho phép tạo kỳ thi chính thức dựa trên một đề thi có sẵn",
        "requestBody": {
          "description": "Thông tin kỳ thi chính thức",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOfficialExamDTO"
              },
              "examples": {
                "Default": {
                  "summary": "Kỳ thi mới",
                  "value": {
                    "title": "Kỳ thi giữa kỳ môn Toán 12",
                    "description": "Kỳ thi giữa học kỳ 1 năm học 2025-2026",
                    "examId": 1,
                    "startTime": "2025-06-15T08:00:00",
                    "endTime": "2025-06-15T10:00:00",
                    "classroomId": 1,
                    "studentIds": [
                      5,
                      6,
                      7
                    ]
                  }
                }
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOfficialExamDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOfficialExamDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Kỳ thi được tạo thành công"
          },
          "400": {
            "description": "Dữ liệu không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy đề thi",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Lấy danh sách kỳ thi chính thức",
        "parameters": [
          {
            "name": "classroomName",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "active",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/official-exams/{id}": {
      "get": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Lấy thông tin chi tiết kỳ thi chính thức",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Cập nhật thông tin kỳ thi chính thức",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin cập nhật",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOfficialExamDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOfficialExamDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOfficialExamDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Xóa kỳ thi chính thức",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/official-exams/{id}/students": {
      "post": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Phân công học sinh tham gia kỳ thi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Danh sách ID học sinh",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignStudentsDTO"
              },
              "examples": {
                "Default": {
                  "summary": "Danh sách học sinh",
                  "value": {
                    "studentIds": [
                      5,
                      6,
                      7
                    ]
                  }
                }
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignStudentsDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AssignStudentsDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Lấy danh sách học sinh tham gia kỳ thi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/official-exams/{id}/release-results": {
      "post": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Công bố kết quả kỳ thi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin công bố kết quả",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReleaseResultDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ReleaseResultDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ReleaseResultDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/official-exams/{id}/statistics": {
      "get": {
        "tags": [
          "OfficialExam"
        ],
        "summary": "Lấy thống kê tổng quan về kỳ thi chính thức",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Password/forgot-password": {
      "post": {
        "tags": [
          "Password"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Password/reset-password": {
      "post": {
        "tags": [
          "Password"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Password/change-password": {
      "post": {
        "tags": [
          "Password"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Question": {
      "post": {
        "tags": [
          "Question"
        ],
        "summary": "Thêm một câu hỏi mới vào hệ thống",
        "description": "API này cho phép giáo viên hoặc admin tạo một câu hỏi mới theo một trong ba dạng:\r\n1. Trắc nghiệm một đáp án (a,b,c,d) (QuestionType=1)\r\n2. Đúng-sai nhiều ý (QuestionType=2)\r\n3. Trả lời ngắn (QuestionType=3)",
        "requestBody": {
          "description": "Thông tin câu hỏi cần tạo",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDTO"
              },
              "examples": {
                "Trắc nghiệm một đáp án (QuestionType=1)": {
                  "summary": "Câu hỏi trắc nghiệm một đáp án",
                  "description": "Câu hỏi dạng chọn một đáp án đúng trong nhiều đáp án (a, b, c, d)",
                  "value": {
                    "content": "Tính giới hạn của hàm số f(x) = sin(x)/x khi x tiến đến 0",
                    "explanation": "Áp dụng định lý L'Hospital ta có giới hạn bằng 1",
                    "subjectId": 1,
                    "chapterId": 2,
                    "questionLevelId": 3,
                    "questionType": 1,
                    "tags": "giới hạn,đạo hàm",
                    "suggestedTime": 60,
                    "defaultScore": 1,
                    "isActive": true,
                    "scoringConfig": "",
                    "shortAnswerConfig": "",
                    "options": [
                      {
                        "content": "1",
                        "isCorrect": true,
                        "orderIndex": 1,
                        "label": "A",
                        "explanation": "Đúng. Đạo hàm f'(x) = cos(x)/1 khi x=0 nên f'(0) = 1",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 100
                      },
                      {
                        "content": "0",
                        "isCorrect": false,
                        "orderIndex": 2,
                        "label": "B",
                        "explanation": "Sai. Đáp án không phải là 0",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 0
                      },
                      {
                        "content": "∞",
                        "isCorrect": false,
                        "orderIndex": 3,
                        "label": "C",
                        "explanation": "Sai. Giới hạn có giá trị hữu hạn",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 0
                      },
                      {
                        "content": "Không tồn tại",
                        "isCorrect": false,
                        "orderIndex": 4,
                        "label": "D",
                        "explanation": "Sai. Giới hạn này tồn tại và bằng 1",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 0
                      }
                    ]
                  }
                },
                "Đúng-sai nhiều ý (QuestionType=2)": {
                  "summary": "Câu hỏi đúng-sai nhiều ý",
                  "description": "Câu hỏi dạng chọn nhiều đáp án đúng trong số các phát biểu (true/false)",
                  "value": {
                    "content": "Chọn các phát biểu đúng về hàm số y = x^2",
                    "explanation": "Phân tích hàm số bậc hai y = x^2",
                    "subjectId": 1,
                    "chapterId": 2,
                    "questionLevelId": 2,
                    "questionType": 2,
                    "tags": "hàm số bậc hai,đạo hàm,tích phân",
                    "suggestedTime": 120,
                    "defaultScore": 2,
                    "isActive": true,
                    "scoringConfig": "{\"1_correct\": 0.25, \"2_correct\": 0.50, \"3_correct\": 0.75, \"4_correct\": 1.00}",
                    "shortAnswerConfig": "",
                    "options": [
                      {
                        "content": "Hàm số là chẵn",
                        "isCorrect": true,
                        "orderIndex": 1,
                        "label": "A",
                        "explanation": "Đúng. Vì f(-x) = (-x)^2 = x^2 = f(x)",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": true,
                        "groupId": 1,
                        "scorePercentage": 25
                      },
                      {
                        "content": "Hàm số có đạo hàm bằng 2x",
                        "isCorrect": true,
                        "orderIndex": 2,
                        "label": "B",
                        "explanation": "Đúng. Đạo hàm của x^2 là f'(x) = 2x",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": true,
                        "groupId": 2,
                        "scorePercentage": 25
                      },
                      {
                        "content": "Hàm số có đồ thị là đường thẳng",
                        "isCorrect": false,
                        "orderIndex": 3,
                        "label": "C",
                        "explanation": "Sai. Đồ thị của hàm số y = x^2 là parabol",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": true,
                        "groupId": 3,
                        "scorePercentage": 0
                      },
                      {
                        "content": "Tích phân của hàm số từ 0 đến 1 bằng 1/2",
                        "isCorrect": false,
                        "orderIndex": 4,
                        "label": "D",
                        "explanation": "Sai. Tích phân từ 0 đến 1 của x^2 là 1/3",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": true,
                        "groupId": 4,
                        "scorePercentage": 0
                      }
                    ]
                  }
                },
                "Trả lời ngắn (QuestionType=3)": {
                  "summary": "Câu hỏi trả lời ngắn",
                  "description": "Câu hỏi dạng nhập câu trả lời ngắn với nhiều phương án đáp án chấp nhận được",
                  "value": {
                    "content": "Cho biết thủ đô của Việt Nam",
                    "explanation": "Thủ đô của Việt Nam là Hà Nội",
                    "subjectId": 2,
                    "chapterId": 3,
                    "questionLevelId": 1,
                    "questionType": 3,
                    "tags": "địa lý,thủ đô,việt nam",
                    "suggestedTime": 30,
                    "defaultScore": 1,
                    "isActive": true,
                    "scoringConfig": "",
                    "shortAnswerConfig": "{\"case_sensitive\": false, \"exact_match\": false, \"partial_credit\": true, \"partial_credit_percent\": 50, \"allow_similar\": true, \"similarity_threshold\": 80}",
                    "options": [
                      {
                        "content": "Hà Nội",
                        "isCorrect": true,
                        "orderIndex": 1,
                        "label": "",
                        "explanation": "Đây là đáp án chính xác",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 100
                      },
                      {
                        "content": "Ha Noi",
                        "isCorrect": true,
                        "orderIndex": 2,
                        "label": "",
                        "explanation": "Đáp án đúng nhưng không có dấu",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 80
                      },
                      {
                        "content": "Hanoi",
                        "isCorrect": true,
                        "orderIndex": 3,
                        "label": "",
                        "explanation": "Đáp án đúng nhưng viết liền, không dấu",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 70
                      },
                      {
                        "content": "Thủ đô Hà Nội",
                        "isCorrect": true,
                        "orderIndex": 4,
                        "label": "",
                        "explanation": "Đáp án đúng nhưng thêm từ 'Thủ đô'",
                        "matchingValue": "",
                        "isPartOfTrueFalseGroup": false,
                        "groupId": 0,
                        "scorePercentage": 90
                      }
                    ]
                  }
                }
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "get": {
        "tags": [
          "Question"
        ],
        "summary": "Lấy danh sách câu hỏi với các bộ lọc và phân trang",
        "parameters": [
          {
            "name": "subjectId",
            "in": "query",
            "description": "ID của môn học",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "chapterId",
            "in": "query",
            "description": "ID của chương",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "levelId",
            "in": "query",
            "description": "ID của mức độ câu hỏi",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "questionType",
            "in": "query",
            "description": "Loại câu hỏi (1: Một đáp án, 2: Đúng-sai nhiều ý, 3: Trả lời ngắn)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "searchTerm",
            "in": "query",
            "description": "Từ khóa tìm kiếm",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số mục mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "activeOnly",
            "in": "query",
            "description": "Chỉ lấy câu hỏi đang hoạt động",
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Question/{id}": {
      "get": {
        "tags": [
          "Question"
        ],
        "summary": "Lấy thông tin chi tiết của một câu hỏi theo ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của câu hỏi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Question"
        ],
        "summary": "Cập nhật thông tin của một câu hỏi / chỉnh sửa",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của câu hỏi cần cập nhật",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin cập nhật",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateQuestionDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateQuestionDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateQuestionDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Question"
        ],
        "summary": "Xóa một câu hỏi",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của câu hỏi cần xóa",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Question/{questionId}/options/{optionId}": {
      "delete": {
        "tags": [
          "Question"
        ],
        "summary": "Xóa một đáp án khỏi câu hỏi",
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "description": "ID của câu hỏi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "optionId",
            "in": "path",
            "description": "ID của đáp án cần xóa",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Question/export": {
      "post": {
        "tags": [
          "Question"
        ],
        "summary": "Xuất câu hỏi ra file Excel",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportQuestionsDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportQuestionsDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ExportQuestionsDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Question/import-template": {
      "get": {
        "tags": [
          "Question"
        ],
        "summary": "Tải xuống mẫu file Excel để nhập câu hỏi",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Question/random": {
      "get": {
        "tags": [
          "Question"
        ],
        "summary": "Lấy câu hỏi ngẫu nhiên theo các tiêu chí",
        "parameters": [
          {
            "name": "subjectId",
            "in": "query",
            "description": "ID của môn học",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "chapterId",
            "in": "query",
            "description": "ID của chương",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "levelId",
            "in": "query",
            "description": "ID của mức độ câu hỏi",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "questionType",
            "in": "query",
            "description": "Loại câu hỏi (1: Một đáp án, 2: Đúng-sai nhiều ý, 3: Trả lời ngắn)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "topic",
            "in": "query",
            "description": "Tìm kiếm theo chủ đề/tag",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "count",
            "in": "query",
            "description": "Số lượng câu hỏi cần lấy",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "excludeIds",
            "in": "query",
            "description": "Danh sách ID câu hỏi cần loại trừ, phân cách bởi dấu phẩy",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Question/mix": {
      "post": {
        "tags": [
          "Question"
        ],
        "summary": "Trộn câu hỏi ngẫu nhiên cho đề thi từ nhiều nguồn khác nhau",
        "requestBody": {
          "description": "Thông tin yêu cầu trộn câu hỏi",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuestionMixRequestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/QuestionMixRequestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/QuestionMixRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/reports": {
      "get": {
        "tags": [
          "Report"
        ],
        "summary": "Lấy báo cáo tổng quan về các kỳ thi trong hệ thống",
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "description": "Ngày bắt đầu thống kê (định dạng yyyy-MM-dd)",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "Ngày kết thúc thống kê (định dạng yyyy-MM-dd)",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "classroomName",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subjectId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/reports/exams/{id}": {
      "get": {
        "tags": [
          "Report"
        ],
        "summary": "Lấy báo cáo chi tiết về một kỳ thi cụ thể",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kỳ thi chính thức",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Results": {
      "post": {
        "tags": [
          "Results"
        ],
        "summary": "Nộp bài và tính điểm",
        "requestBody": {
          "description": "Thông tin bài thi và câu trả lời",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitExamDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitExamDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitExamDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Results/user/{userId}": {
      "get": {
        "tags": [
          "Results"
        ],
        "summary": "Lịch sử bài thi theo người dùng",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "ID của người dùng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "subjectId",
            "in": "query",
            "description": "Lọc theo môn học (không bắt buộc)",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Trang hiện tại",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số lượng kết quả mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Results/{resultId}": {
      "get": {
        "tags": [
          "Results"
        ],
        "summary": "Lấy chi tiết kết quả bài thi",
        "parameters": [
          {
            "name": "resultId",
            "in": "path",
            "description": "ID của kết quả bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Results/{id}": {
      "delete": {
        "tags": [
          "Results"
        ],
        "summary": "Xóa kết quả bài thi (chỉ dành cho admin)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kết quả bài thi cần xóa",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Results/{resultId}/grade": {
      "put": {
        "tags": [
          "Results"
        ],
        "summary": "Cập nhật điểm bài thi (dành cho giáo viên)",
        "parameters": [
          {
            "name": "resultId",
            "in": "path",
            "description": "ID của kết quả bài thi",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin cập nhật điểm",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateResultDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateResultDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateResultDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/ResultsExport/export": {
      "get": {
        "tags": [
          "ResultsExport"
        ],
        "parameters": [
          {
            "name": "examId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "includeAnswers",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "completedOnly",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Statistics/overview": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Lấy tổng quan số lượng người dùng, đề thi, bài thi",
        "responses": {
          "200": {
            "description": "Trả về thông tin tổng quan thành công"
          },
          "401": {
            "description": "Không có quyền truy cập"
          }
        }
      }
    },
    "/api/Statistics/by-subject": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Lấy thống kê số đề thi, lượt thi, điểm trung bình theo từng môn học",
        "responses": {
          "200": {
            "description": "Trả về thông tin thống kê theo môn học thành công"
          },
          "401": {
            "description": "Không có quyền truy cập"
          }
        }
      }
    },
    "/api/Subject": {
      "get": {
        "tags": [
          "Subject"
        ],
        "summary": "Lấy danh sách môn học có phân trang",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Trang hiện tại",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Số lượng mỗi trang",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "includeInactive",
            "in": "query",
            "description": "Có hiển thị môn học không hoạt động",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "searchTerm",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Subject"
        ],
        "summary": "Tạo môn học mới",
        "requestBody": {
          "description": "Thông tin môn học cần tạo",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSubjectDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSubjectDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSubjectDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Subject/{id}": {
      "get": {
        "tags": [
          "Subject"
        ],
        "summary": "Lấy chi tiết một môn học theo ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của môn học",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Subject"
        ],
        "summary": "Cập nhật thông tin môn học",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của môn học cần cập nhật",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "description": "Thông tin cần cập nhật",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSubjectDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSubjectDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSubjectDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Subject"
        ],
        "summary": "Xóa môn học",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của môn học cần xóa",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Subject/{id}/toggle-status": {
      "patch": {
        "tags": [
          "Subject"
        ],
        "summary": "Thay đổi trạng thái kích hoạt/vô hiệu hóa môn học",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của môn học",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Subject/all": {
      "get": {
        "tags": [
          "Subject"
        ],
        "summary": "Lấy tất cả môn học không phân trang (sử dụng cho dropdown)",
        "parameters": [
          {
            "name": "activeOnly",
            "in": "query",
            "description": "Chỉ lấy môn học đang hoạt động",
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/tests/token-info": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "API để kiểm tra thông tin token hiện tại",
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/verify-token": {
      "post": {
        "tags": [
          "Test"
        ],
        "summary": "Kiểm tra và xử lý token thủ công",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TokenVerificationRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/TokenVerificationRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/TokenVerificationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/tests/structured": {
      "post": {
        "tags": [
          "Test"
        ],
        "summary": "Tạo đề thi theo cấu trúc độ khó",
        "description": "API này cho phép tạo đề thi dựa trên cấu trúc độ khó, phân bổ câu hỏi theo tỷ lệ người dùng cung cấp",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStructuredTestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStructuredTestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStructuredTestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/tests/topic/{topic}": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "Lấy đề thi theo chủ đề",
        "description": "API này cho phép lấy các đề thi theo chủ đề cụ thể",
        "parameters": [
          {
            "name": "topic",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/practice": {
      "post": {
        "tags": [
          "Test"
        ],
        "summary": "Tạo đề ôn tập tùy chọn",
        "description": "API này cho phép tạo đề ôn tập theo các tùy chọn của người dùng",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePracticeTestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePracticeTestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePracticeTestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/tests/practice-fixed": {
      "post": {
        "tags": [
          "Test"
        ],
        "summary": "API tạm thời cho đề ôn tập với userId cố định - Dùng khi API chính gặp vấn đề",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePracticeTestDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePracticeTestDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePracticeTestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/tests/simple-practice": {
      "post": {
        "tags": [
          "Test"
        ],
        "summary": "API đơn giản để tạo đề ôn tập khi API chính gặp vấn đề",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimplePracticeDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/SimplePracticeDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/SimplePracticeDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/tests/ping": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "API kiểm tra để xác nhận controller hoạt động đúng",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/tests/history/{userId}": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "Lấy lịch sử luyện đề ôn tập của người dùng",
        "description": "API này cho phép lấy lịch sử luyện đề ôn tập của một người dùng cụ thể",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/User/me": {
      "get": {
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/update": {
      "put": {
        "tags": [
          "User"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/list": {
      "get": {
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/roles/{id}": {
      "put": {
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/status/{id}": {
      "put": {
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/{id}": {
      "delete": {
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/system-info": {
      "get": {
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/videos/upload": {
      "post": {
        "tags": [
          "Videos"
        ],
        "summary": "Upload video ôn tập cho môn học",
        "description": "API này cho phép giáo viên hoặc admin upload video ôn tập cho một môn học cụ thể.\r\nVideo phải có định dạng mp4, avi, mov, wmv hoặc mkv và kích thước không quá 500MB.\r\n\r\nSample request:\r\n\r\n    POST /api/videos/upload\r\n    Content-Type: multipart/form-data\r\n    Form data:\r\n      - file: [video file]\r\n      - title: \"Ôn tập Toán học chương 3\"\r\n      - description: \"Video ôn tập về đạo hàm và tích phân\"\r\n      - subjectId: 1\r\n      - chapterId: 3 (optional)\r\n      - tags: \"đạo hàm, tích phân\" (optional)",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file",
                  "title"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "subjectId": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "chapterId": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "tags": {
                    "type": "string"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                },
                "title": {
                  "style": "form"
                },
                "description": {
                  "style": "form"
                },
                "subjectId": {
                  "style": "form"
                },
                "chapterId": {
                  "style": "form"
                },
                "tags": {
                  "style": "form"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Video đã được upload thành công"
          },
          "400": {
            "description": "Dữ liệu không hợp lệ",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Không có quyền truy cập",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "413": {
            "description": "File quá lớn",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi máy chủ"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AnswerSubmissionDTO": {
        "type": "object",
        "properties": {
          "questionId": {
            "type": "integer",
            "description": "ID của câu hỏi",
            "format": "int32",
            "example": 42
          },
          "startTime": {
            "type": "string",
            "description": "Thời gian bắt đầu trả lời câu hỏi",
            "format": "date-time",
            "example": "2025-04-12T06:35:20Z"
          },
          "endTime": {
            "type": "string",
            "description": "Thời gian kết thúc trả lời câu hỏi",
            "format": "date-time",
            "example": "2025-04-12T06:36:05Z"
          },
          "selectedOptionId": {
            "type": "integer",
            "description": "ID của đáp án được chọn (cho câu hỏi một đáp án)",
            "format": "int32",
            "nullable": true,
            "example": 15
          },
          "textAnswer": {
            "type": "string",
            "description": "Văn bản câu trả lời (cho câu hỏi trả lời ngắn)",
            "nullable": true,
            "example": "1"
          },
          "trueFalseAnswers": {
            "type": "string",
            "description": "Dữ liệu đáp án đúng-sai (JSON cho câu hỏi đúng-sai nhiều ý)\r\nVí dụ: {\"1\":true,\"2\":false,\"3\":true,\"4\":true}",
            "nullable": true,
            "example": "{\"1\":true,\"2\":false,\"3\":true,\"4\":true}"
          },
          "matchingAnswers": {
            "type": "string",
            "description": "Câu trả lời ghép đôi (cho câu hỏi ghép đôi)\r\nVí dụ: {\"1\":3,\"2\":1,\"3\":4,\"4\":2} - ghép item bên trái với item bên phải",
            "nullable": true,
            "example": "{\"1\":3,\"2\":1,\"3\":4,\"4\":2}"
          }
        },
        "additionalProperties": false,
        "description": "DTO cho một câu trả lời khi nộp bài"
      },
      "ApproveExamDTO": {
        "type": "object",
        "properties": {
          "approved": {
            "type": "boolean",
            "description": "Trạng thái phê duyệt (true: duyệt, false: từ chối)"
          },
          "comment": {
            "type": "string",
            "description": "Nhận xét của người duyệt",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "AssignStudentsDTO": {
        "type": "object",
        "properties": {
          "studentIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ChangePasswordRequest": {
        "required": [
          "currentPassword",
          "newPassword"
        ],
        "type": "object",
        "properties": {
          "currentPassword": {
            "minLength": 1,
            "type": "string"
          },
          "newPassword": {
            "minLength": 6,
            "type": "string"
          },
          "confirmPassword": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ChatMessageDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "senderId": {
            "type": "integer",
            "format": "int32"
          },
          "senderName": {
            "type": "string",
            "nullable": true
          },
          "receiverId": {
            "type": "integer",
            "format": "int32"
          },
          "receiverName": {
            "type": "string",
            "nullable": true
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "sentAt": {
            "type": "string",
            "format": "date-time"
          },
          "isRead": {
            "type": "boolean"
          },
          "readAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateChapterDTO": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Tên chương",
            "nullable": true,
            "example": "Đạo hàm"
          },
          "description": {
            "type": "string",
            "description": "Mô tả chương",
            "nullable": true,
            "example": "Kiến thức cơ bản về đạo hàm và ứng dụng"
          },
          "subjectId": {
            "type": "integer",
            "description": "ID của môn học",
            "format": "int32",
            "example": 1
          },
          "orderIndex": {
            "type": "integer",
            "description": "Thứ tự hiển thị",
            "format": "int32",
            "example": 1
          }
        },
        "additionalProperties": false,
        "description": "DTO để tạo chương mới"
      },
      "CreateExamDTO": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Tiêu đề bài thi",
            "nullable": true,
            "example": "Kiểm tra giữa kỳ Toán học"
          },
          "description": {
            "type": "string",
            "description": "Mô tả bài thi",
            "nullable": true,
            "example": "Bài kiểm tra kiến thức cơ bản về đạo hàm và tích phân"
          },
          "subjectId": {
            "type": "integer",
            "description": "ID của môn học",
            "format": "int32",
            "example": 1
          },
          "examTypeId": {
            "type": "integer",
            "description": "ID của loại bài thi",
            "format": "int32",
            "example": 3
          },
          "duration": {
            "type": "integer",
            "description": "Thời gian làm bài (phút)",
            "format": "int32",
            "example": 45
          },
          "totalScore": {
            "type": "number",
            "description": "Điểm tối đa của bài thi",
            "format": "double",
            "example": 10
          },
          "passScore": {
            "type": "number",
            "description": "Điểm đạt của bài thi",
            "format": "double",
            "nullable": true,
            "example": 5
          },
          "maxAttempts": {
            "type": "integer",
            "description": "Số lần được làm bài",
            "format": "int32",
            "nullable": true,
            "example": 2
          },
          "startTime": {
            "type": "string",
            "description": "Thời gian bắt đầu mở bài thi",
            "format": "date-time",
            "nullable": true,
            "example": "2025-04-05T08:00:00Z"
          },
          "endTime": {
            "type": "string",
            "description": "Thời gian kết thúc đóng bài thi",
            "format": "date-time",
            "nullable": true,
            "example": "2025-04-15T23:59:59Z"
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt của bài thi",
            "example": true
          },
          "showResult": {
            "type": "boolean",
            "description": "Hiển thị kết quả sau khi làm bài",
            "example": true
          },
          "showAnswers": {
            "type": "boolean",
            "description": "Hiển thị đáp án sau khi làm bài",
            "example": false
          },
          "shuffleQuestions": {
            "type": "boolean",
            "description": "Trộn câu hỏi khi hiển thị",
            "example": true
          },
          "shuffleOptions": {
            "type": "boolean",
            "description": "Trộn đáp án khi hiển thị (áp dụng cho câu hỏi trắc nghiệm một đáp án)",
            "example": true
          },
          "autoGradeShortAnswer": {
            "type": "boolean",
            "description": "Cài đặt chấm tự động câu hỏi trả lời ngắn",
            "example": true
          },
          "allowPartialGrading": {
            "type": "boolean",
            "description": "Cài đặt mức điểm đạt (%) cho câu hỏi đúng-sai nhiều ý nếu trả lời đúng một phần",
            "example": true
          },
          "accessCode": {
            "type": "string",
            "description": "Mã truy cập bài thi (nếu được bảo vệ)",
            "nullable": true,
            "example": "abc123"
          },
          "scoringConfig": {
            "type": "string",
            "description": "Cấu hình tính điểm (JSON)",
            "nullable": true
          },
          "questions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExamQuestionCreateDTO"
            },
            "description": "Danh sách ID câu hỏi đưa vào bài thi",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO tạo mới bài thi"
      },
      "CreateFeedbackDTO": {
        "required": [
          "content"
        ],
        "type": "object",
        "properties": {
          "content": {
            "minLength": 1,
            "type": "string"
          },
          "feedbackType": {
            "type": "integer",
            "format": "int32"
          },
          "questionId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO cho việc gửi phản hồi bài thi"
      },
      "CreateOfficialExamDTO": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "examId": {
            "type": "integer",
            "format": "int32"
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "classroomName": {
            "type": "string",
            "nullable": true
          },
          "studentIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreatePracticeTestDTO": {
        "required": [
          "questionCount",
          "subjectId"
        ],
        "type": "object",
        "properties": {
          "subjectId": {
            "type": "integer",
            "format": "int32"
          },
          "questionCount": {
            "maximum": 100,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "levelId": {
            "type": "integer",
            "format": "int32"
          },
          "questionTypes": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "chapterIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "topic": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO cho việc tạo đề ôn tập tùy chọn"
      },
      "CreateQuestionDTO": {
        "required": [
          "content",
          "options",
          "questionLevelId",
          "questionType",
          "subjectId"
        ],
        "type": "object",
        "properties": {
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "Nội dung câu hỏi",
            "example": "Tính giới hạn của hàm số f(x) = sin(x)/x khi x tiến đến 0"
          },
          "explanation": {
            "type": "string",
            "description": "Giải thích cho câu hỏi",
            "nullable": true,
            "example": "Áp dụng định lý L'Hospital ta có giới hạn bằng 1"
          },
          "subjectId": {
            "type": "integer",
            "description": "ID môn học",
            "format": "int32",
            "example": 1
          },
          "chapterId": {
            "type": "integer",
            "description": "ID chương (không bắt buộc)",
            "format": "int32",
            "nullable": true,
            "example": 3
          },
          "questionLevelId": {
            "type": "integer",
            "description": "ID mức độ câu hỏi",
            "format": "int32",
            "example": 3
          },
          "questionType": {
            "maximum": 5,
            "minimum": 1,
            "type": "integer",
            "description": "Loại câu hỏi\r\n1: Một đáp án (trắc nghiệm a,b,c,d)\r\n3: Trả lời ngắn với nhiều đáp án có thể chấp nhận được\r\n5: Đúng-sai nhiều ý (dùng cho trắc nghiệm đúng-sai 4 ý)",
            "format": "int32",
            "example": 1
          },
          "tags": {
            "type": "string",
            "description": "Tags của câu hỏi, phân cách bởi dấu phẩy",
            "nullable": true,
            "example": "giới hạn,đạo hàm"
          },
          "suggestedTime": {
            "type": "integer",
            "description": "Thời gian làm câu hỏi gợi ý (giây)",
            "format": "int32",
            "nullable": true,
            "example": 60
          },
          "defaultScore": {
            "maximum": 10,
            "minimum": 0,1,
            "type": "number",
            "description": "Điểm mặc định",
            "format": "double",
            "default": 1,
            "example": 1
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt",
            "default": true,
            "example": true
          },
          "scoringConfig": {
            "type": "string",
            "description": "Cấu hình tính điểm cho câu hỏi đúng-sai nhiều ý (JSON)",
            "nullable": true
          },
          "shortAnswerConfig": {
            "type": "string",
            "description": "Cấu hình cho câu hỏi trả lời ngắn (JSON)",
            "nullable": true
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateQuestionOptionDTO"
            },
            "description": "Danh sách các đáp án"
          }
        },
        "additionalProperties": false,
        "description": "DTO để tạo mới câu hỏi"
      },
      "CreateQuestionOptionDTO": {
        "required": [
          "content"
        ],
        "type": "object",
        "properties": {
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "Nội dung đáp án",
            "example": "1"
          },
          "isCorrect": {
            "type": "boolean",
            "description": "Đánh dấu đáp án đúng",
            "example": true
          },
          "orderIndex": {
            "type": "integer",
            "description": "Thứ tự hiển thị",
            "format": "int32",
            "default": 0,
            "example": 1
          },
          "label": {
            "type": "string",
            "description": "Ký hiệu tùy chỉnh (a, b, c, d hoặc khác) cho đáp án",
            "nullable": true,
            "example": "a"
          },
          "explanation": {
            "type": "string",
            "description": "Giải thích cho đáp án",
            "nullable": true,
            "example": "Đây là đáp án đúng vì..."
          },
          "matchingValue": {
            "type": "string",
            "description": "Giá trị ghép đôi (cho câu hỏi ghép đôi)",
            "default": "",
            "nullable": true,
            "example": "Paris"
          },
          "isPartOfTrueFalseGroup": {
            "type": "boolean",
            "description": "Đánh dấu nếu đây là một mục Đúng-Sai trong câu hỏi đúng-sai nhiều ý",
            "default": false
          },
          "groupId": {
            "type": "integer",
            "description": "Nhóm đáp án (dùng cho câu hỏi đúng-sai nhiều ý)",
            "format": "int32",
            "default": 0,
            "nullable": true
          },
          "scorePercentage": {
            "maximum": 100,
            "minimum": 0,
            "type": "integer",
            "description": "Mức điểm cho đáp án này (0-100%)",
            "format": "int32",
            "default": 100,
            "example": 100
          }
        },
        "additionalProperties": false,
        "description": "DTO để tạo mới đáp án"
      },
      "CreateStructuredTestDTO": {
        "required": [
          "criteria",
          "duration",
          "examTypeId",
          "subjectId",
          "title",
          "totalScore"
        ],
        "type": "object",
        "properties": {
          "title": {
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "subjectId": {
            "type": "integer",
            "format": "int32"
          },
          "examTypeId": {
            "type": "integer",
            "format": "int32"
          },
          "duration": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "totalScore": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "passScore": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isPublic": {
            "type": "boolean"
          },
          "shuffleQuestions": {
            "type": "boolean"
          },
          "showResult": {
            "type": "boolean",
            "nullable": true
          },
          "showAnswers": {
            "type": "boolean",
            "nullable": true
          },
          "autoGradeShortAnswer": {
            "type": "boolean",
            "nullable": true
          },
          "criteria": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TestCriterionDTO"
            }
          }
        },
        "additionalProperties": false,
        "description": "DTO cho việc tạo đề thi theo cấu trúc độ khó"
      },
      "CreateSubjectDTO": {
        "required": [
          "gradeLevel"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "gradeLevel": {
            "maximum": 12,
            "minimum": 10,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "DTO dùng để tạo mới môn học"
      },
      "EmailNotificationDTO": {
        "required": [
          "content",
          "recipients",
          "subject"
        ],
        "type": "object",
        "properties": {
          "recipients": {
            "minLength": 1,
            "type": "string",
            "description": "Danh sách địa chỉ email người nhận (ngăn cách bởi dấu phẩy nếu nhiều người)",
            "format": "email"
          },
          "subject": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "Tiêu đề email"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "Nội dung email (hỗ trợ HTML)"
          },
          "template": {
            "type": "string",
            "description": "Mẫu email sử dụng (tùy chọn)",
            "nullable": true
          },
          "templateData": {
            "type": "string",
            "description": "Dữ liệu cho mẫu email (dạng JSON)",
            "nullable": true
          },
          "saveNotification": {
            "type": "boolean",
            "description": "Có lưu bản ghi thông báo trong hệ thống không"
          },
          "type": {
            "$ref": "#/components/schemas/NotificationType"
          },
          "relatedEntityId": {
            "type": "integer",
            "description": "ID đối tượng liên quan",
            "format": "int32",
            "nullable": true
          },
          "relatedEntityType": {
            "type": "string",
            "description": "Loại đối tượng liên quan",
            "nullable": true
          },
          "link": {
            "type": "string",
            "description": "Đường dẫn liên quan đến thông báo",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO để gửi thông báo qua email"
      },
      "ExamQuestionCreateDTO": {
        "type": "object",
        "properties": {
          "questionId": {
            "type": "integer",
            "description": "ID của câu hỏi",
            "format": "int32",
            "example": 42
          },
          "order": {
            "type": "integer",
            "description": "Thứ tự câu hỏi trong bài thi",
            "format": "int32",
            "example": 1
          },
          "score": {
            "type": "number",
            "description": "Điểm số cho câu hỏi trong bài thi",
            "format": "double",
            "example": 1,5
          }
        },
        "additionalProperties": false,
        "description": "DTO thêm câu hỏi vào bài thi"
      },
      "ExportQuestionsDTO": {
        "type": "object",
        "properties": {
          "subjectId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "chapterId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "levelId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "questionType": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "topic": {
            "type": "string",
            "nullable": true
          },
          "search": {
            "type": "string",
            "nullable": true
          },
          "questionIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "includeOptions": {
            "type": "boolean",
            "nullable": true
          },
          "includeExplanation": {
            "type": "boolean",
            "nullable": true
          },
          "includeMetadata": {
            "type": "boolean",
            "nullable": true
          },
          "format": {
            "type": "string",
            "nullable": true
          },
          "limitRows": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ExportScoresRequest": {
        "type": "object",
        "properties": {
          "officialExamId": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ExportStudentsRequest": {
        "type": "object",
        "properties": {
          "classroomName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ForgotPasswordRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "InAppNotificationDTO": {
        "required": [
          "content",
          "title"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "description": "ID người nhận thông báo",
            "format": "int32",
            "nullable": true
          },
          "userIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "description": "Danh sách ID người nhận (nếu gửi nhiều người)",
            "nullable": true
          },
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "Tiêu đề thông báo"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "Nội dung thông báo"
          },
          "type": {
            "$ref": "#/components/schemas/NotificationType"
          },
          "link": {
            "type": "string",
            "description": "Đường dẫn liên quan đến thông báo",
            "nullable": true
          },
          "relatedEntityId": {
            "type": "integer",
            "description": "ID đối tượng liên quan",
            "format": "int32",
            "nullable": true
          },
          "relatedEntityType": {
            "type": "string",
            "description": "Loại đối tượng liên quan",
            "nullable": true
          },
          "sendEmail": {
            "type": "boolean",
            "description": "Có gửi thông báo qua email không"
          }
        },
        "additionalProperties": false,
        "description": "DTO để gửi thông báo trong hệ thống"
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "usernameOrEmail": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          },
          "rememberMe": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "MixSettingsDTO": {
        "type": "object",
        "properties": {
          "shuffle": {
            "type": "boolean",
            "description": "Có xáo trộn câu hỏi sau khi kết hợp không"
          },
          "includeAnswers": {
            "type": "boolean",
            "description": "Có bao gồm đáp án hay không"
          },
          "includeExplanations": {
            "type": "boolean",
            "description": "Có bao gồm giải thích hay không"
          }
        },
        "additionalProperties": false,
        "description": "Cài đặt cho kết quả trộn câu hỏi"
      },
      "NewMessageDTO": {
        "type": "object",
        "properties": {
          "receiverId": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "NotificationType": {
        "enum": [
          0,
          1,
          2,
          3,
          4
        ],
        "type": "integer",
        "description": "Loại thông báo trong hệ thống",
        "format": "int32"
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "QuestionMixRequestDTO": {
        "required": [
          "sources"
        ],
        "type": "object",
        "properties": {
          "sources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionSourceDTO"
            },
            "description": "Danh sách nguồn câu hỏi"
          },
          "settings": {
            "$ref": "#/components/schemas/MixSettingsDTO"
          }
        },
        "additionalProperties": false,
        "description": "DTO cho việc trộn câu hỏi từ nhiều nguồn"
      },
      "QuestionSourceDTO": {
        "required": [
          "count",
          "subjectId"
        ],
        "type": "object",
        "properties": {
          "subjectId": {
            "type": "integer",
            "description": "ID môn học (bắt buộc)",
            "format": "int32"
          },
          "count": {
            "maximum": 100,
            "minimum": 1,
            "type": "integer",
            "description": "Số lượng câu hỏi cần lấy từ nguồn này",
            "format": "int32"
          },
          "chapterId": {
            "type": "integer",
            "description": "ID chương học (tùy chọn)",
            "format": "int32",
            "nullable": true
          },
          "levelId": {
            "type": "integer",
            "description": "ID mức độ câu hỏi (tùy chọn)",
            "format": "int32",
            "nullable": true
          },
          "questionType": {
            "type": "integer",
            "description": "Loại câu hỏi (1: Trắc nghiệm, 2: Đúng sai, 3: Trả lời ngắn)",
            "format": "int32",
            "nullable": true
          },
          "topic": {
            "type": "string",
            "description": "Chủ đề/tag cần tìm kiếm",
            "nullable": true
          },
          "scorePerQuestion": {
            "type": "number",
            "description": "Điểm mỗi câu hỏi (nếu không cung cấp, sẽ dùng điểm mặc định của câu hỏi)",
            "format": "double",
            "nullable": true
          },
          "selectionMethod": {
            "type": "string",
            "description": "Phương thức chọn (random: ngẫu nhiên, newest: mới nhất, oldest: cũ nhất)",
            "nullable": true
          },
          "excludeIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "description": "Danh sách ID câu hỏi cần loại trừ",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO định nghĩa một nguồn câu hỏi"
      },
      "RegisterRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "fullName": {
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          },
          "confirmPassword": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ReleaseResultDTO": {
        "type": "object",
        "properties": {
          "release": {
            "type": "boolean"
          },
          "notificationMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResetPasswordRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "resetCode": {
            "type": "string",
            "nullable": true
          },
          "newPassword": {
            "type": "string",
            "nullable": true
          },
          "confirmPassword": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResolveFeedbackDTO": {
        "required": [
          "responseContent",
          "status"
        ],
        "type": "object",
        "properties": {
          "responseContent": {
            "minLength": 1,
            "type": "string"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "DTO cho việc xử lý phản hồi bài thi"
      },
      "SimplePracticeDTO": {
        "type": "object",
        "properties": {
          "subjectId": {
            "type": "integer",
            "format": "int32"
          },
          "questionCount": {
            "type": "integer",
            "format": "int32"
          },
          "topic": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO đơn giản cho API tạo đề ôn tập khi API chính gặp vấn đề"
      },
      "SubmitExamDTO": {
        "type": "object",
        "properties": {
          "examId": {
            "type": "integer",
            "description": "ID của bài thi",
            "format": "int32",
            "example": 15
          },
          "startTime": {
            "type": "string",
            "description": "Thời gian bắt đầu làm bài",
            "format": "date-time",
            "example": "2025-04-12T06:30:00Z"
          },
          "endTime": {
            "type": "string",
            "description": "Thời gian kết thúc làm bài",
            "format": "date-time",
            "example": "2025-04-12T07:15:00Z"
          },
          "notes": {
            "type": "string",
            "description": "Ghi chú của học sinh",
            "nullable": true,
            "example": "Tôi gặp khó khăn với câu hỏi số 5"
          },
          "sessionId": {
            "type": "string",
            "description": "ID của phiên làm bài",
            "nullable": true,
            "example": "session_9f8e7d6c5b4a"
          },
          "deviceInfo": {
            "type": "string",
            "description": "Thông tin thiết bị",
            "nullable": true,
            "example": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"
          },
          "isSubmittedManually": {
            "type": "boolean",
            "description": "Câu trả lời đã được nộp bởi người dùng (không phải tự động)",
            "example": true
          },
          "answers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AnswerSubmissionDTO"
            },
            "description": "Danh sách câu trả lời",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO để nộp bài thi"
      },
      "TestCriterionDTO": {
        "required": [
          "count",
          "score"
        ],
        "type": "object",
        "properties": {
          "levelId": {
            "type": "integer",
            "format": "int32"
          },
          "questionType": {
            "type": "integer",
            "format": "int32"
          },
          "chapterId": {
            "type": "integer",
            "format": "int32"
          },
          "topic": {
            "type": "string",
            "nullable": true
          },
          "count": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "score": {
            "maximum": 100,
            "minimum": 0,1,
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false,
        "description": "DTO cho tiêu chí phân bổ câu hỏi"
      },
      "TokenVerificationRequest": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO cho API kiểm tra token"
      },
      "UpdateAnswerScoreDTO": {
        "type": "object",
        "properties": {
          "studentAnswerId": {
            "type": "integer",
            "description": "ID của câu trả lời",
            "format": "int32",
            "example": 105
          },
          "score": {
            "type": "number",
            "description": "Điểm cập nhật",
            "format": "double",
            "example": 0,75
          },
          "comment": {
            "type": "string",
            "description": "Lý do cho điểm",
            "nullable": true,
            "example": "Câu trả lời đúng về cơ bản nhưng thiếu giải thích về cách áp dụng quy tắc l'Hôpital"
          },
          "status": {
            "type": "integer",
            "description": "Đánh dấu là đúng, đúng một phần hay sai\r\n1: Đúng, 2: Đúng một phần, 3: Sai",
            "format": "int32",
            "example": 2
          }
        },
        "additionalProperties": false,
        "description": "DTO cập nhật điểm cho một câu trả lời"
      },
      "UpdateChapterDTO": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Tên chương",
            "nullable": true,
            "example": "Đạo hàm"
          },
          "description": {
            "type": "string",
            "description": "Mô tả chương",
            "nullable": true,
            "example": "Kiến thức cơ bản về đạo hàm và ứng dụng"
          },
          "subjectId": {
            "type": "integer",
            "description": "ID của môn học",
            "format": "int32",
            "nullable": true,
            "example": 1
          },
          "orderIndex": {
            "type": "integer",
            "description": "Thứ tự hiển thị",
            "format": "int32",
            "example": 1
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt",
            "nullable": true,
            "example": true
          }
        },
        "additionalProperties": false,
        "description": "DTO để cập nhật chương"
      },
      "UpdateExamStatusDTO": {
        "type": "object",
        "properties": {
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt của đề thi (true: công khai, false: nháp)"
          }
        },
        "additionalProperties": false
      },
      "UpdateOfficialExamDTO": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "classroomName": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateQuestionDTO": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Nội dung câu hỏi",
            "nullable": true
          },
          "explanation": {
            "type": "string",
            "description": "Giải thích cho câu hỏi",
            "nullable": true
          },
          "subjectId": {
            "type": "integer",
            "description": "ID môn học",
            "format": "int32",
            "nullable": true
          },
          "chapterId": {
            "type": "integer",
            "description": "ID chương",
            "format": "int32",
            "nullable": true
          },
          "questionLevelId": {
            "type": "integer",
            "description": "ID mức độ câu hỏi",
            "format": "int32",
            "nullable": true
          },
          "tags": {
            "type": "string",
            "description": "Tags của câu hỏi, phân cách bởi dấu phẩy",
            "nullable": true
          },
          "suggestedTime": {
            "type": "integer",
            "description": "Thời gian làm câu hỏi gợi ý (giây)",
            "format": "int32",
            "nullable": true
          },
          "defaultScore": {
            "maximum": 10,
            "minimum": 0,1,
            "type": "number",
            "description": "Điểm mặc định",
            "format": "double",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt",
            "nullable": true
          },
          "scoringConfig": {
            "type": "string",
            "description": "Cấu hình tính điểm cho câu hỏi đúng-sai nhiều ý (JSON)",
            "nullable": true
          },
          "shortAnswerConfig": {
            "type": "string",
            "description": "Cấu hình cho câu hỏi trả lời ngắn (JSON)",
            "nullable": true
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UpdateQuestionOptionDTO"
            },
            "description": "Danh sách các đáp án (để cập nhật)",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO để cập nhật câu hỏi"
      },
      "UpdateQuestionOptionDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "ID của đáp án (nếu cập nhật đáp án hiện có, không có ID sẽ tạo mới)",
            "format": "int32"
          },
          "content": {
            "type": "string",
            "description": "Nội dung đáp án",
            "nullable": true
          },
          "isCorrect": {
            "type": "boolean",
            "description": "Đánh dấu đáp án đúng"
          },
          "orderIndex": {
            "type": "integer",
            "description": "Thứ tự hiển thị",
            "format": "int32"
          },
          "label": {
            "type": "string",
            "description": "Ký hiệu tùy chỉnh (a, b, c, d hoặc khác) cho đáp án",
            "nullable": true
          },
          "explanation": {
            "type": "string",
            "description": "Giải thích cho đáp án",
            "nullable": true
          },
          "matchingValue": {
            "type": "string",
            "description": "Giá trị ghép đôi (cho câu hỏi ghép đôi)",
            "nullable": true
          },
          "isPartOfTrueFalseGroup": {
            "type": "boolean",
            "description": "Đánh dấu nếu đây là một mục Đúng-Sai trong câu hỏi đúng-sai nhiều ý"
          },
          "groupId": {
            "type": "integer",
            "description": "Nhóm đáp án (dùng cho câu hỏi đúng-sai nhiều ý)",
            "format": "int32",
            "nullable": true
          },
          "scorePercentage": {
            "maximum": 100,
            "minimum": 0,
            "type": "integer",
            "description": "Mức điểm cho đáp án này (0-100%)",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "DTO để cập nhật đáp án"
      },
      "UpdateResultDTO": {
        "type": "object",
        "properties": {
          "isReviewed": {
            "type": "boolean",
            "description": "Đã xem xét và hoàn thành chấm điểm"
          },
          "teacherComment": {
            "type": "string",
            "description": "Nhận xét của giáo viên",
            "nullable": true,
            "example": "Bài làm tốt, cần chú ý về cách tính đạo hàm"
          },
          "answerScores": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UpdateAnswerScoreDTO"
            },
            "description": "Danh sách cập nhật điểm cho các câu trả lời",
            "nullable": true
          },
          "reviewerId": {
            "type": "integer",
            "description": "ID người chấm điểm",
            "format": "int32",
            "nullable": true
          },
          "reviewedAt": {
            "type": "string",
            "description": "Thời gian chấm điểm",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "DTO để giáo viên cập nhật điểm bài thi"
      },
      "UpdateSubjectDTO": {
        "required": [
          "gradeLevel"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "gradeLevel": {
            "maximum": 12,
            "minimum": 10,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "DTO dùng để cập nhật môn học"
      },
      "UpdateUserDTO": {
        "required": [
          "fullName",
          "phoneNumber"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Địa chỉ email mới của người dùng",
            "nullable": true,
            "example": "thien1124.new@example.com"
          },
          "fullName": {
            "type": "string",
            "description": "Họ và tên đầy đủ mới của người dùng",
            "nullable": true,
            "example": "Nguyễn Văn Thiện"
          },
          "phoneNumber": {
            "type": "string",
            "description": "Số điện thoại mới của người dùng",
            "nullable": true,
            "example": "0987654321"
          }
        },
        "additionalProperties": false,
        "description": "DTO dùng để cập nhật thông tin cá nhân của người dùng"
      },
      "UpdateUserRoleDTO": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "description": "Vai trò mới của người dùng (Admin, Teacher, Student)",
            "nullable": true,
            "example": "Teacher"
          }
        },
        "additionalProperties": false,
        "description": "DTO dùng để cập nhật vai trò của người dùng (chỉ Admin mới có quyền)"
      },
      "UpdateUserStatusDTO": {
        "type": "object",
        "properties": {
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt của tài khoản (true: kích hoạt, false: vô hiệu hóa)",
            "example": true
          }
        },
        "additionalProperties": false,
        "description": "DTO dùng để kích hoạt hoặc vô hiệu hóa tài khoản người dùng"
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "apiKey",
        "description": "JWT Authorization header using the Bearer scheme. Example: \"Bearer {token}\"",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}